<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org/DTD Config 3.0//EN"
	"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
	
<mapper namespace="mypageMapper">

<resultMap  id="OrderList" type="Orders">
	<id property="id" column="id"/>
	<result property="ordersDate" column="orders_date"/>
	<result property="ordersNo" column="orders_no"/>
	
	<association property="ordersDetail" javaType="OrdersDetail">
	<id property="ordersNo" column="orders_no"/>
	<result property="detailQty" column="detail_qty"/>
	<result property="detailSt" column="detail_st"/>
	</association>
	
	<association property="product" javaType="Product">
	<id property="productNo" column="product_no"/>
	<result property="productName" column="product_name"/>
	</association>
	
</resultMap>






	<select id="orders" parameterType="Hashmap" resultMap="OrderList">
	select o.orders_date, o.orders_no, od.detail_qty, od.detail_st, p.product_name
	FROM Orders o, orders_Detail od, product p
	where o.orders_no = od.orders_no and od.product_no = p.product_no and o.id = #{id}
	</select>

</mapper>
	